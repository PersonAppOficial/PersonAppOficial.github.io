<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<title>PersonAPP</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet" />
<style>
:root{
--bg:#020210; --text:#f4f6f8; --panel:#202225; --panel2:#151618; --accent:#4CAF50; --muted:#b9c0c7; --warn:#ffd166;
}
*{box-sizing:border-box}
body{margin:0; background:var(--bg); color:var(--text); font-family:'Montserrat','Segoe UI',Arial,sans-serif}
a{color:inherit}

.wrap{max-width:1200px; margin:0 auto; padding:20px}
header{display:flex; align-items:center; justify-content:center; text-align:center; padding:40px 10px 10px}
h1{font-size:2.6rem; margin:0 0 8px; text-shadow:0 2px 16px rgba(18,255,65,.7)}
p.lead{margin:0; opacity:.9}

/* Grilla de Apps */
.grid{display:grid; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); gap:22px; margin:32px 0 48px}
.card{
background:linear-gradient(135deg,var(--panel2) 60%,var(--panel) 100%);
border:1px solid rgba(255,255,255,.06);
border-radius:16px; padding:18px; box-shadow:0 2px 16px rgba(0,0,0,.25);
transition:transform .2s ease, box-shadow .2s ease;
}
.card:hover{transform:translateY(-6px); box-shadow:0 10px 24px rgba(0,0,0,.35)}
.card img.logo{width:64px; height:64px; object-fit:contain; background:#111; border-radius:12px; box-shadow:0 1px 8px rgba(0,0,0,.3)}
.card h3{margin:12px 0 8px; font-size:1.15rem}
.card p{margin:0 0 12px; color:#dfe5ea}
.stores{display:flex; gap:8px; flex-wrap:wrap}
.btn{
display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:10px; border:none; cursor:pointer;
background:linear-gradient(90deg,#232526 0%, var(--accent) 100%); color:#fff; text-decoration:none; font-weight:700; font-size:.9rem;
}

/* Foro */
#foro{background:rgba(0,0,0,.16); border:1px solid rgba(255,255,255,.08); border-radius:16px; padding:20px; margin:24px 0 80px}
#foro h2{margin:0 0 6px}
.hint{color:var(--muted); margin:0 0 16px}
#postForm{display:grid; grid-template-columns:1fr 1fr; gap:12px; margin-bottom:16px}
#postForm .full{grid-column:1/-1}
input, select, textarea{
width:100%; border:1px solid rgba(255,255,255,.15); background:#141516; color:#fff;
border-radius:10px; padding:10px 12px; font-family:inherit; font-size:1rem
}
textarea{min-height:100px; resize:vertical}
.actions{display:flex; gap:10px; align-items:center}
.secondary{background:#2a2d31}
.preview{display:flex; gap:12px; flex-wrap:wrap}
.preview img{max-width:120px; border-radius:10px; border:1px solid rgba(255,255,255,.1)}
.feed{display:grid; grid-template-columns:repeat(auto-fill,minmax(260px,1fr)); gap:14px}
.post{
background:linear-gradient(135deg,#1a1a1a 60%, #232323 100%); border:1px solid rgba(255,255,255,.08);
border-radius:12px; padding:14px; box-shadow:0 1px 10px rgba(0,0,0,.25)
}
.meta{font-size:.85rem; color:#c7ced6}
.stars{color:var(--warn)}
.post img{width:100%; height:auto; border-radius:10px; margin-top:8px}

/* Juego */
#juego{margin:50px 0 90px; background:rgba(0,0,0,.14); border:1px solid rgba(255,255,255,.08); border-radius:16px; padding:20px}
#gameWrap{display:flex; flex-direction:column; align-items:center; gap:8px}
#arena{background:#0f0f12; border:2px solid #2b2b2b; border-radius:8px; max-width:100%; height:auto}
.hud{display:flex; gap:14px; flex-wrap:wrap; align-items:center; justify-content:center}

/* Fijos + mano */
.brand{position:fixed; left:16px; bottom:16px; font-weight:800; letter-spacing:1px; opacity:.9}
.contact{position:fixed; right:16px; bottom:16px; opacity:.9; background:rgba(0,0,0,.3); padding:6px 12px; border-radius:8px}
.emoji-wave{position:fixed; bottom:40px; right:40px; font-size:90px; line-height:1; z-index:9999;
animation:wave 1.6s ease-in-out infinite; user-select:none; pointer-events:none; filter:drop-shadow(0 3px 6px rgba(0,0,0,.5))}
@keyframes wave{0%,100%{transform:rotate(0deg)} 15%{transform:rotate(20deg)} 30%{transform:rotate(-10deg)} 45%{transform:rotate(12deg)} 60%{transform:rotate(-6deg)} 75%{transform:rotate(4deg)}}
</style>
</head>
<body>
<div class="wrap">
<header>
<div>
<h1>APP para emprendedores</h1>
<p class="lead">Recursos √∫tiles, foro abierto con im√°genes y un minijuego ‚ÄúVacas vs Pollos‚Äù.</p>
</div>
</header>

<!-- Apps -->
<section id="apps" class="grid" aria-label="apps">
<article class="card">
<img class="logo" src="Img/logo.busho.png" alt="BUSHO" />
<h3>BUSHO</h3>
<p>Arriendo flexible de espacios comerciales.</p>
<div class="stores">
<a class="btn" href="https://busho.cl/" target="_blank" rel="noopener noreferrer">Visitar</a>
<a class="btn" href="https://apps.apple.com/cl/app/busho/id1665748711" target="_blank" rel="noopener noreferrer">iOS</a>
<a class="btn" href="https://play.google.com/store/apps/details?id=app.busho.cl" target="_blank" rel="noopener noreferrer">Android</a>
</div>
</article>

<article class="card">
<img class="logo" src="Img/logo.canva.png" alt="Canva" />
<h3>Canva</h3>
<p>Dise√±os f√°ciles para redes y marca.</p>
<div class="stores"><a class="btn" href="https://www.canva.com/" target="_blank" rel="noopener noreferrer">Visitar</a></div>
</article>

<article class="card">
<img class="logo" src="Img/logo.shopify3.png" alt="Shopify" />
<h3>Shopify</h3>
<p>Tu tienda online en minutos.</p>
<div class="stores"><a class="btn" href="https://www.shopify.com/" target="_blank" rel="noopener noreferrer">Visitar</a></div>
</article>

<article class="card">
<img class="logo" src="Img/logo.zoom.png" alt="Zoom" />
<h3>Zoom</h3>
<p>Reuniones profesionales.</p>
<div class="stores"><a class="btn" href="https://zoom.us/" target="_blank" rel="noopener noreferrer">Visitar</a></div>
</article>

<article class="card">
<img class="logo" src="Img/logo.mercadopago.png" alt="Mercado Pago" />
<h3>Mercado Pago</h3>
<p>Cobra con tarjeta desde el celular.</p>
<div class="stores"><a class="btn" href="https://www.mercadopago.cl/" target="_blank" rel="noopener noreferrer">Visitar</a></div>
</article>
</section>

<!-- Foro -->
<section id="foro">
<h2>Foro & Rese√±as</h2>
<p class="hint">Pega tu experiencia. Si configuras Firebase, todo queda p√∫blico; si no, se guarda localmente solo en tu navegador.</p>

<form id="postForm">
<div>
<label>App</label>
<select id="fApp" required>
<option value="BUSHO">BUSHO</option><option value="Canva">Canva</option>
<option value="Shopify">Shopify</option><option value="Zoom">Zoom</option>
<option value="Mercado Pago">Mercado Pago</option>
</select>
</div>
<div><label>Tu nombre</label><input id="fName" type="text" placeholder="Ej: Ra√∫l" required /></div>
<div>
<label>Calificaci√≥n</label>
<select id="fRating" required>
<option value="5">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ (5)</option><option value="4">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ (4)</option>
<option value="3">‚òÖ‚òÖ‚òÖ‚òÜ‚òÜ (3)</option><option value="2">‚òÖ‚òÖ‚òÜ‚òÜ‚òÜ (2)</option>
<option value="1">‚òÖ‚òÜ‚òÜ‚òÜ‚òÜ (1)</option>
</select>
</div>
<div class="full"><label>Rese√±a</label><textarea id="fText" placeholder="¬øQu√© te gust√≥? ¬øQu√© mejorar√≠as?" required></textarea></div>
<div class="full">
<label>Imagen (opcional)</label>
<input id="fImage" type="file" accept="image/*" />
<div id="preview" class="preview"></div>
</div>
<div class="full actions">
<button class="btn" type="submit" id="sendBtn">Publicar</button>
<span id="status" class="hint"></span>
</div>
</form>

<div id="feed" class="feed"></div>
</section>

<!-- Juego: Vacas vs Pollos -->
<section id="juego">
<h2>Minijuego: Vacas üêÑ vs Pollos üêî</h2>
<p class="hint">Mueve la mano üëã con flechas/WASD para empujar. Si un animal cae del borde se convierte en üçñ o üçó. Cada nivel hay m√°s y el suelo tiene m√°s huecos.</p>
<div id="gameWrap">
<canvas id="arena" width="800" height="480"></canvas>
<div class="hud">
<button class="btn" id="restart">Reiniciar</button>
<div>Nivel: <strong id="lvl">1</strong></div>
<div>Puntos: <strong id="score">0</strong></div>
</div>
</div>
</section>
</div>

<div class="brand">PersonAPP</div>
<div class="contact">contacto: personappoficial@gmail.com</div>
<div class="emoji-wave" aria-hidden="true">üëã</div>

<!-- Firebase opcional -->
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-storage-compat.js"></script>
<script>
// Si tienes Firebase, pon aqu√≠ tus claves. Si lo dejas vac√≠o, el foro usa modo local.
const firebaseConfig = {
apiKey:"", authDomain:"", projectId:"", storageBucket:"", messagingSenderId:"", appId:""
};
let useFirebase = Object.values(firebaseConfig).some(Boolean);
if(useFirebase){ firebase.initializeApp(firebaseConfig); }
</script>

<script>
/*********** Foro con modo dual (Firebase o Local) ***********/
const $ = s => document.querySelector(s);
const feed = $("#feed"), statusEl = $("#status"), preview = $("#preview");
const stars = n => "‚òÖ".repeat(+n||0) + "‚òÜ".repeat(5-(+n||0));
const escapeHTML = s => (s||"").replace(/[&<>"']/g, m=>({ '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;' }[m]));

// Previsualizaci√≥n
$("#fImage").addEventListener("change", e=>{
preview.innerHTML=""; const f=e.target.files?.[0]; if(!f) return;
const url=URL.createObjectURL(f); const img=new Image(); img.src=url; img.onload=()=>URL.revokeObjectURL(url); preview.appendChild(img);
});

// APIs de almacenamiento
const LS_KEY="personapp_posts_v2";
const db = (useFirebase? firebase.firestore(): null);
const storage = (useFirebase? firebase.storage(): null);

async function savePost({app,name,rating,text,file}){
let imageUrl="";
if(useFirebase && file){
const safe=file.name.replace(/[^a-z0-9.\-_]/gi,"_");
const ref=storage.ref().child(`images/${Date.now()}_${safe}`);
await ref.put(file);
imageUrl=await ref.getDownloadURL();
}else if(file){
// modo local: guardamos como base64
imageUrl = await new Promise(res=>{
const r=new FileReader(); r.onload=()=>res(r.result); r.readAsDataURL(file);
});
}
const post={app,name,rating:+rating,text,imageUrl,time:Date.now()};
if(useFirebase){
await db.collection("posts").add(post);
}else{
const list=JSON.parse(localStorage.getItem(LS_KEY)||"[]"); list.push(post);
localStorage.setItem(LS_KEY, JSON.stringify(list));
renderLocal();
}
}

function renderLocal(){
const items=(JSON.parse(localStorage.getItem(LS_KEY)||"[]")).sort((a,b)=>b.time-a.time);
feed.innerHTML = items.map(p=>`
<article class="post">
<div class="meta"><strong>${escapeHTML(p.app)}</strong> ¬∑ ${escapeHTML(p.name)} <span class="stars">${stars(p.rating)}</span></div>
<div>${escapeHTML(p.text)}</div>
${p.imageUrl?`<img src="${escapeHTML(p.imageUrl)}" alt="imagen">`:""}
<div class="meta">${new Date(p.time).toLocaleString()}</div>
</article>`).join('') || '<p class="hint">A√∫n no hay rese√±as.</p>';
}

if(useFirebase){
db.collection("posts").orderBy("time","desc").onSnapshot(snap=>{
const frag=document.createDocumentFragment();
snap.forEach(d=>{
const p=d.data(); const el=document.createElement("article"); el.className="post";
el.innerHTML=`<div class="meta"><strong>${escapeHTML(p.app)}</strong> ¬∑ ${escapeHTML(p.name)} <span class="stars">${stars(p.rating)}</span></div>
<div>${escapeHTML(p.text)}</div>${p.imageUrl?`<img src="${escapeHTML(p.imageUrl)}" alt="imagen">`:""}
<div class="meta">${new Date(p.time||0).toLocaleString()}</div>`;
frag.appendChild(el);
});
feed.innerHTML=""; feed.appendChild(frag);
});
}else{ renderLocal(); }

$("#postForm").addEventListener("submit", async e=>{
e.preventDefault(); statusEl.textContent="Publicando..."; $("#sendBtn").disabled=true;
const app=$("#fApp").value, name=$("#fName").value.trim(), rating=$("#fRating").value, text=$("#fText").value.trim(), file=$("#fImage").files?.[0]||null;
if(!name||!text){ statusEl.textContent="Completa nombre y rese√±a."; $("#sendBtn").disabled=false; return; }
try{
await savePost({app,name,rating,text,file});
e.target.reset(); preview.innerHTML=""; statusEl.textContent="Publicado ‚úîÔ∏è"; setTimeout(()=>statusEl.textContent="",1200);
}catch(err){ statusEl.textContent="Error: "+err.message; }
$("#sendBtn").disabled=false;
});

/***************** Juego: Vacas vs Pollos ******************/
const cvs=document.getElementById("arena"), ctx=cvs.getContext("2d");
const lvlEl=$("#lvl"), scoreEl=$("#score");
let level=1, score=0, entities=[], holes=[], hand={x:400,y:240,vx:0,vy:0};
const G=0.25, FRICTION=0.995, PUSH=0.9;

function rand(a,b){ return Math.random()*(b-a)+a; }

function genHoles(){
holes=[]; const n=Math.min(5, 1+Math.floor(level/2));
for(let i=0;i<n;i++){
const w=rand(60,110), x=rand(40, cvs.width-40-w), y=rand(260, cvs.height-60);
holes.push({x,y,w,h:18});
}
}

function spawnWave(){
entities=[];
const n = 6 + level*2;
for(let i=0;i<n;i++){
const team = (i%2===0)? "cow":"chicken";
entities.push({
team, x: rand(80, cvs.width-80), y: rand(40,120),
vx: rand(-1,1), vy: 0, r: 16, alive:true, cooked:false
});
}
}

function drawArena(){
ctx.fillStyle="#0f0f12"; ctx.fillRect(0,0,cvs.width,cvs.height);
// piso
ctx.fillStyle="#2b2b2e"; ctx.fillRect(0, cvs.height-20, cvs.width, 20);
// huecos
ctx.fillStyle="#0f0f12";
holes.forEach(h=> ctx.fillRect(h.x, h.y, h.w, h.h));
}

function drawEntity(e){
let emoji = e.team==="cow" ? "üêÑ" : "üêî";
if(e.cooked) emoji = e.team==="cow" ? "üçñ" : "üçó";
ctx.font = "24px serif"; ctx.textAlign="center"; ctx.textBaseline="middle";
ctx.fillText(emoji, e.x, e.y);
}

function physics(){
// mano
hand.vx*=0.92; hand.vy*=0.92;
hand.x+=hand.vx; hand.y+=hand.vy;
hand.x=Math.max(20, Math.min(cvs.width-20, hand.x));
hand.y=Math.max(20, Math.min(cvs.height-40, hand.y));

// entidades
entities.forEach(e=>{
if(!e.alive) return;
e.vy += G;
e.x += e.vx; e.y += e.vy;
e.vx *= FRICTION; e.vy *= FRICTION;

// colisi√≥n con bordes superiores/laterales
if(e.x<10){ e.x=10; e.vx*=-0.6; }
if(e.x>cvs.width-10){ e.x=cvs.width-10; e.vx*=-0.6; }
if(e.y<10){ e.y=10; e.vy*=-0.6; }

// piso s√≥lido salvo huecos
const onFloor = e.y>=cvs.height-30;
let inHole=false;
holes.forEach(h=>{
if(e.y>=h.y-2 && e.y<=h.y+h.h && e.x>=h.x && e.x<=h.x+h.w){ inHole=true; }
});
if(onFloor && !inHole){
e.y=cvs.height-30; e.vy*=-0.35;
}

// colisi√≥n con mano
const dx=e.x-hand.x, dy=e.y-hand.y, d=Math.hypot(dx,dy);
if(d<32){
const nx=dx/(d||1), ny=dy/(d||1);
e.vx += nx*PUSH; e.vy += ny*PUSH;
}

// colisiones simples entre animales
entities.forEach(o=>{
if(o===e || !o.alive) return;
const dx=e.x-o.x, dy=e.y-o.y, d=Math.hypot(dx,dy);
if(d<22){
const nx=dx/(d||1), ny=dy/(d||1);
e.vx += nx*0.4; e.vy += ny*0.4;
o.vx -= nx*0.4; o.vy -= ny*0.4;
}
});

// cay√≥ del mapa -> se cocina
if(e.y>cvs.height+30 && !e.cooked){
e.cooked=true; score += 10; scoreEl.textContent=score;
}
// si est√° cocinado y se fue del todo, desaparece
if(e.cooked && e.y>cvs.height+120){
e.alive=false;
}
});

// si no quedan vivos ‚Üí siguiente nivel
if(entities.every(e=>!e.alive || e.cooked)){
level++; document.getElementById("lvl").textContent=level;
genHoles(); spawnWave();
}
}

function render(){
drawArena();
// dibuja mano
ctx.font="26px serif"; ctx.textAlign="center"; ctx.textBaseline="middle";
ctx.fillText("üëã", hand.x, hand.y);
// dibuja entidades
entities.forEach(e=> drawEntity(e));
}

function loop(){ physics(); render(); requestAnimationFrame(loop); }

// Controles mano
const accel=1.6;
window.addEventListener("keydown", (e)=>{
const k=e.key.toLowerCase();
if(["arrowleft","a"].includes(k)) hand.vx-=accel;
if(["arrowright","d"].includes(k)) hand.vx+=accel;
if(["arrowup","w"].includes(k)) hand.vy-=accel;
if(["arrowdown","s"].includes(k)) hand.vy+=accel;
});

// Inicio
function startGame(){
level=1; score=0; lvlEl.textContent=level; scoreEl.textContent=score;
hand={x:cvs.width/2,y:120,vx:0,vy:0};
genHoles(); spawnWave(); loop();
}
document.getElementById("restart").addEventListener("click", startGame);
startGame();
</script>
</body>
</html>



